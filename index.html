<!DOCTYPE html>
<html>
  <head>
    <title>Visimusic</title>
    <link rel="icon" href="https://marblelover003.github.io/Visimusic/VisimusicFavicons/Visimusic.png">
    <style>
      @import url("https://fonts.googleapis.com/css?family=Roboto:300,400,700|Montserrat:300,400,700|Orbitron");
      body {
        background: black;
        overflow: hidden;
        font-size: 0;
        width: 768px;
        color: white;
        font-family: Roboto;
      }
      div {
        background: black;
        width: 2.5px;
        height: 1px;
        display: inline-block;
        transition: background 1s linear;
      }
      a, a:visited {
        color: white;
        font-size: 16px;
      }
      button, select, #songSelectMenu {
        font: 16px Orbitron;
      }
      select, button {
        height: 36px;
        padding-right: 6px;
        padding-left: 6px;
        border-radius: 15px;
        transition-duration: 500ms;
        background: black;
        color: white;
        border: 3px solid white;
      }
      select {
        -webkit-appearance: none;
      }
      select:hover {
        background: blue;
      }
      select:focus {
        background: white;
        color: black;
      }
      :focus {
        outline: none;
      }
      button {
        background: white;
        color: black;
      }
      button:hover {
        background: #00bf00;
        color: black;
      }
      button[disabled] {
        background: black;
        color: #333333;
        border: 3px solid #333333;
      }
      progress {
        width: 750px;
        height: 24px;
        -webkit-appearance: none;
      }
      .progressContainer {
        position: absolute;
        bottom: 0;
        left: 0;
        font: 24px Roboto;
        font-weight: 300;
      }
      progress::-webkit-progress-bar {
        background: linear-gradient(to bottom, #ccc 0%, #ddd 50%, #bbb 50%, #ccc 100%);
        box-shadow: 0px 0px 3px 1px rgba(0, 0, 0, 0.2) inset;
      }
      progress::-webkit-progress-value {
        box-shadow: 0px 0px 9px 1px rgba(0, 0, 0, 0.5) inset;
      }
      #visualizer {
        position: absolute;
        bottom: 25px;
        left: 0;
        z-index: -99;
      }
      #title {
        position: absolute;
        top: 8px;
        left: 8px;
        z-index: 999;
        font: 24px Roboto;
        width: 500px;
        height: 80px;
        visibility: hidden;
      }
      .c1::-webkit-progress-value {background: #c7c5c8;}
      .c2::-webkit-progress-value {background: linear-gradient(to bottom, #e5af71 0%, #d19d64 50%, #e8bc7d 100%);}
      .c3::-webkit-progress-value {background: #ffff00;}
      .c4::-webkit-progress-value {background: #bfbfff;}
      .c5::-webkit-progress-value {background: #820029;}
      .c6::-webkit-progress-value {background: linear-gradient(to right, #ff0000 0px, #ffff00 750px);}
      .c7::-webkit-progress-value {background: #113344;}
      .c8::-webkit-progress-value {background: linear-gradient(to bottom, #ff0000 49.99999999%, #ffffff 50%);}
      .c9::-webkit-progress-value {background: linear-gradient(to bottom, #4643d2 49.99999999%, #c38ef8 50%);}
      .c10::-webkit-progress-value {background: #ff8000;}
      .c11::-webkit-progress-value {background: #0432ea;}
      .c12::-webkit-progress-value {background: linear-gradient(to bottom, #333333 49.99999999%, #ffff00 50%);}
      .c13::-webkit-progress-value {background: linear-gradient(to bottom, #0000ff 49.99999999%, #ffffff 50%);}
      .c14::-webkit-progress-value {background: #a00000;}
      .c15::-webkit-progress-value {background: linear-gradient(to right, #ff0000 0%, #ff8000 80%, #ffff00 100%);}
      .c16::-webkit-progress-value {background: #f3f3f3;}
      .c17::-webkit-progress-value {background: linear-gradient(to bottom, #008fdd 49.99999999%, #6624f8 50%);}
      .c18::-webkit-progress-value {background: #99ff00;}
      .c19::-webkit-progress-value {background: #8ee050;}
      .c20::-webkit-progress-value {background: #c00039;}
      .c21::-webkit-progress-value {background: linear-gradient(to bottom, #801b55 49.99999999%, #483872 50%);}
      .c22::-webkit-progress-value {background: #be0ffe;}
      .c23::-webkit-progress-value {background: #ffffff;}
      .c24::-webkit-progress-value {background: linear-gradient(to bottom, #78a050 49.99999999%, #f5a915 50%);}
      .c25::-webkit-progress-value {background: linear-gradient(to bottom, #f00, #ff0, #0f0, #0ff, #00f, #f0f, #f00);}
      .c26::-webkit-progress-value {background: #1b2664;}
      .c27::-webkit-progress-value {background: #ff0000;}
      .c28::-webkit-progress-value {background: linear-gradient(to bottom, #ff9900 49.99999999%, #ffaa00 50%);}
      .c29::-webkit-progress-value {background: #39d7f0;}
      .c30::-webkit-progress-value {background: linear-gradient(to right, #0000ff, #ffffff);}
      .c31::-webkit-progress-value {background: #db0a89;}
      .c32::-webkit-progress-value {background: #bf0070;}
      .c33::-webkit-progress-value {background: #00ff80;}
      .c34::-webkit-progress-value {background: linear-gradient(to bottom, #7070ff, #8f8fff);}
      .c35::-webkit-progress-value {background: #e08b04;}
      .c36::-webkit-progress-value {background: #ffffee;}
      .c37::-webkit-progress-value {background: #ffd700;}
      .c38::-webkit-progress-value {background: #ff0040;}
      .c39::-webkit-progress-value {background: #00ffff;}
      .c40::-webkit-progress-value {background: #ffffff;}
      .c41::-webkit-progress-value {background: #c0c0c0;}
      .c42::-webkit-progress-value {background: linear-gradient(to bottom, #b14147 49.99999999%, #c38dea 50%);}
      .c43::-webkit-progress-value {background: #00008b;}
      .c44::-webkit-progress-value {background: #eeeeee;}
      .c45::-webkit-progress-value {background: #c2b280;}
      .c46::-webkit-progress-value {background: linear-gradient(to bottom, #333333 49.99999999%, #ffffff 50%);}
      .c47::-webkit-progress-value {background: #fee4e0;}
      .c48::-webkit-progress-value {background: #634020;}
      .c49::-webkit-progress-value {background: #0344a8;}
      .c50::-webkit-progress-value {background: linear-gradient(to bottom, #ffff00, #ff0000);}
      .c51::-webkit-progress-value {background: #0000ff;}
      .c52::-webkit-progress-value {background: #ff0080;}
      .c53::-webkit-progress-value {background: #5d51ba;}
      .c54::-webkit-progress-value {background: #f7629a;}
      .c55::-webkit-progress-value {background: #aaf1ad;}
      .c56::-webkit-progress-value {background: #e9e8e6;}
      .c57::-webkit-progress-value {background: #a61d25;}
      #songSelectMenu, #title {
        transition: opacity 1s linear;
      }
    </style>
  </head>
  <body>
    <span style="position: absolute; z-index: 99;" id="songSelectMenu">
      Select a song:
      <select id="song" onchange="checkSong()">
        <option></option>
        <option value="Astrocat">PIXL - Astrocat</option>
        <option value="Backlash">Noisestorm - Backlash</option>
        <option value="Barracuda">Noisestorm - Barracuda</option>
        <option value="Be Gone Mr. Gawne">Bossfight - Be Gone Mr. Gawne</option>
        <option value="BLAST">Tokyo Machine - BLAST</option>
        <option value="Buzz Kill">PIXL - Buzz Kill</option>
        <option value="Caps On, Hats Off">Bossfight - Caps On, Hats Off</option>
        <option value="Cascade">Kubbi - Cascade</option>
        <option value="Cheat Codes">Nitro Fun - Cheat Codes</option>
        <option value="Cheat Codes VIP">Nitro Fun - Cheat Codes VIP</option>
        <option value="Checkpoint">Nitro Fun &amp; Hyper Potions - Checkpoint</option>
        <option value="Chip Zeal">Big Giant Circles - Chip Zeal</option>
        <option value="Chipland">nanobii - Chipland</option>
        <option value="Chronos">Danimal Cannon &amp; Zef - Chronos</option>
        <option value="Clash">Trip40 - Clash</option>
        <option value="Commando Steve">Bossfight - Commando Steve</option>
        <option value="COOKIES">Tokyo Machine - COOKIES</option>
        <option value="Cool Friends">Silva Hound - Cool Friends (Murtagh &amp; Veschell Remix)</option>
        <option value="Core">Zef - Core</option>
        <option value="Corrupted">Danimal Cannon &amp; Zef - Corrupted</option>
        <option value="Courtesy">Chipzel - Courtesy</option>
        <option value="Crab Rave">Noisestorm - Crab Rave</option>
        <option value="CRAZY">Tokyo Machine - CRAZY</option>
        <option value="Cruise Control">Zef - Cruise Control</option>
        <option value="Crystal Tokyo">FantomenK &amp; meganeko - Crystal Tokyo</option>
        <option value="Dance of the Incognizant">FantomenK - Dance of the Incognizant</option>
        <option value="Delayed Friend Request">7 Minutes Dead - Delayed Friend Request</option>
        <option value="Destroid 1 - Raise Your Fist">Excision, Downlink &amp; Space Laces - Destroid 1 Raise Your Fist</option>
        <option value="Destroid 8 - Annihilate">Excision &amp; Far Too Loud - Destroid 8 Annihilate</option>
        <option value="Destroid 10 - Funk Hole">Excision &amp; Space Laces - Destroid 10 Funk Hole</option>
        <option value="Deviance">Excision &amp; Datsik - Deviance (Dirtyphonics Remix)</option>
        <option value="Duality">Fractal - Duality</option>
        <option value="Dubwoofer Substep">Omnitica - Dubwoofer Substep</option>
        <option value="Eclipse">Noisestorm - Eclipse</option>
        <option value="Evolution">Chipzel - Evolution</option>
        <option value="Exoskelephone">Stereotronique - Exoskelephone</option>
        <option value="Farbror Melker Fixar Fiskdamm (Fastbom Cover)">Bossfight - Farbror Melker Fixar Fiskdamm (Fastbom Cover)</option>
        <option value="Faster Than Light">Far Too Loud - Faster Than Light</option>
        <option value="FIGHT">Tokyo Machine - FIGHT</option>
        <option value="Final Boss">Nitro Fun - Final Boss</option>
        <option value="Flirt Flirt Oh It Hurts">Bossfight - Flirt Flirt Oh It Hurts</option>
        <option value="Focus">Chipzel - Focus</option>
        <option value="Forged in Stars">Chipzel - Forged in Stars</option>
        <option value="FOX">Shirobon - FOX</option>
        <option value="FTW">Lets Be Friends - FTW</option>
        <option value="Glitch">Danimal Cannon &amp; Zef - Glitch</option>
        <option value="Gravity">Stereotronique - Gravity</option>
        <option value="Grind">Stereotronique - Grind</option>
        <option value="Halcyon">Au5 &amp; Fractal - Halcyon</option>
        <option value="Heist">Noisestorm - Heist</option>
        <option value="Here It Comes">Pegboard Nerds - Here It Comes</option>
        <option value="Highscore">Panda Eyes - Highscore (feat. Teminite)</option>
        <option value="Houston">Big Giant Circles - Houston</option>
        <option value="HYPE">Tokyo Machine - HYPE</option>
        <option value="I Call It Progstep">Omnitica - I Call It Progstep</option>
        <option value="I'm being Reelistic">Omnitica - I&apos;m being Reelistic</option>
        <option value="Into The Zone">Shirobon - Into the Zone</option>
        <option value="It's Pronounced Omnitica">Omnitica - It&apos;s Pronounced Omnitica</option>
        <option value="Jack Russel">Bossfight - Jack Russel</option>
        <option value="Legacy">Danimal Cannon &amp; Zef - Legacy</option>
        <option value="Livewire">Zef - Livewire</option>
        <option value="Logic Gatekeeper">Danimal Cannon &amp; Zef - Logic Gatekeeper</option>
        <option value="Long Live The New Fresh">Danimal Cannon - Long Live the New Fresh</option>
        <option value="Milky Ways">Bossfight - Milky Ways</option>
        <option value="MOSHI">Pegboard Nerds &amp; Tokyo Machine - MOSHI</option>
        <option value="New Game">Nitro Fun - New Game</option>
        <option value="No Party Like a Mojang Party">Big Giant Circles - No Party Like a Mojang Party</option>
        <option value="OKAY">Tokyo Machine - OKAY</option>
        <option value="Omniverse">Omnitica - Omniverse</option>
        <option value="On The Run">Shirobon - On the Run</option>
        <option value="Once Again">Tristam - Once Again</option>
        <option value="Opia">Shirobon - Opia</option>
        <option value="Otis">Chipzel - Otis</option>
        <option value="Paper Dolls">Shawn Daley - Paper Dolls</option>
        <option value="Parallel Processing">Danimal Cannon &amp; Zef - Parallel Processing</option>
        <option value="PARTY">Tokyo Machine - PARTY</option>
        <option value="Partyt Ar Igang">Bossfight - Partyt A&#776;r Iga&#778;ng!</option>
        <option value="Peer Gynt">cYsmix - Peer Gynt</option>
        <option value="Pirate Manners">Bossfight - Pirate Manners</option>
        <option value="PIXEL">Tokyo Machine - PIXEL</option>
        <option value="PLAY">Tokyo Machine - PLAY</option>
        <option value="Pyro">Dread Pitt - Pyro</option>
        <option value="Quake">Stereotronique - Quake</option>
        <option value="Rainbow Road">nanobii - Rainbow Road</option>
        <option value="Rat Twist">PIXL - Rat Twist</option>
        <option value="Razor Sharp">Pegboard Nerds &amp; Tristam - Razor Sharp</option>
        <option value="Renegade">Noisestorm - Renegade</option>
        <option value="Rhapsody">Danimal Cannon &amp; Zef - Rhapsody</option>
        <option value="ROCK IT">Tokyo Machine - ROCK IT</option>
        <option value="Rocket">Stereotronique - Rocket</option>
        <option value="Rocktronik">Pegboard Nerds - Rocktronik</option>
        <option value="SAIKOU">Tokyo Machine - SAIKOU</option>
        <option value="Sentinel">Noisestorm - Sentinel</option>
        <option value="Sevcon">Big Giant Circles - Sevcon</option>
        <option value="Sexy Beast">Stereotronique - Sexy Beast</option>
        <option value="Sidewinder">7 Minutes Dead - Sidewinder</option>
        <option value="So Far Away">Nitro Fun - So Far Away</option>
        <option value="Spection">Fractal - Spection</option>
        <option value="Spectra">Chipzel - Spectra</option>
        <option value="SPOOKY">Tokyo Machine - SPOOKY</option>
        <option value="Starship Showdown">Bossfight - Starship Showdown (feat. Christian Carlsson)</option>
        <option value="Steampunk Warlord">Bossfight - Steampunk Warlord</option>
        <option value="Stock & Pull">Stereotronique - Stock &amp; Pull</option>
        <option value="Sugar Rush">PIXL - Sugar Rush</option>
        <option value="Surge">Noisestorm - Surge</option>
        <option value="Tension">Zef - Tension</option>
        <option value="Termination Shock">Sabrepulse - Termination Shock</option>
        <option value="The Art of War">Chipzel - The Art of War</option>
        <option value="The Cave, The Treasure">Bossfight - The Cave, The Treasure</option>
        <option value="The Escape">PIXL - The Escape</option>
        <option value="The Lunar Whale">Danimal Cannon &amp; Zef - The Lunar Whale</option>
        <option value="The Maze of Mayonnaise">Bossfight - The Maze of Mayonnaise</option>
        <option value="This Time">PIXL - This Time</option>
        <option value="Till It's Over">Tristam - Till It's Over</option>
        <option value="Time Goes By">Nitro Fun - Time Goes By</option>
        <option value="Time Lapse">TheFatRat - Time Lapse</option>
        <option value="Timewarp">Noisestorm - Timewarp</option>
        <option value="Tokyo Skies">Chipzel - Tokyo Skies</option>
        <option value="Try This">Pegboard Nerds - Try This</option>
        <option value="Turbo Penguin">Sound Remedy &amp; Nitro Fun - Turbo Penguin</option>
        <option value="Unlocked">Plesco - Unlocked</option>
        <option value="Vindicate Me">Big Giant Circles - Vindicate Me</option>
        <option value="Wicked">Avenza - Wicked</option>
        <option value="Wormhole">Far Too Loud - Wormhole</option>
        <option value="Yo! Ho! And a Bottle of Bass!">Omnitica - Yo! Ho! And a Bottle of Bass!</option>
      </select><br>
      FFT Size:
      <select id="fftsize">
        <option value=2048>2048</option>
        <option value=4096 selected>4096 (Default)</option>
        <option value=8192>8192</option>
        <option value=16384>16384</option>
        <option value=32768>32768</option>
      </select><br>
      Number of Bars:
      <select id="bars">
        <option value=500>500 (Not recommended)</option>
        <option value=450>450</option>
        <option value=400>400</option>
        <option value=350>350</option>
        <option value=300 selected>300 (Default)</option>
        <option value=250>250</option>
        <option value=200>200</option>
        <option value=150>150</option>
        <option value=125>125</option>
        <option value=100>100</option>
        <option value=80>80</option>
        <option value=60>60</option>
        <option value=50>50</option>
      </select><br>
      Smoothing:
      <select id="smoothing">
        <option value=0 selected>0 (Default)</option>
        <option value=0.05>0.05</option>
        <option value=0.1>0.1</option>
        <option value=0.2>0.2</option>
        <option value=0.35>0.35</option>
        <option value=0.5>0.5</option>
        <option value=0.75>0.75</option>
      </select><br>
      Maximum bar height (relative to window height):
      <select id="maxheight">
        <option value=1 selected>1x (Default)</option>
        <option value=0.9>0.9x</option>
        <option value=0.8>0.8x</option>
        <option value=0.7>0.7x</option>
        <option value=0.6>0.6x</option>
        <option value=0.5>0.5x</option>
      </select><br>
      Curve power:
      <select id="power">
        <option value=3>3x</option>
        <option value=4>4x</option>
        <option value=5 selected>5x (Default)</option>
        <option value=6>6x</option>
        <option value=8>8x</option>
      </select><br>
      Max dB:
      <select id="maxdb">
        <option>0</option>
        <option>-5</option>
        <option value=-10 selected>-10 (Default)</option>
        <option>-15</option>
        <option>-20</option>
        <option>-25</option>
        <option>-30</option>
      </select><br>
      Min dB:
      <select id="mindb">
        <option>-100</option>
        <option>-95</option>
        <option value=-90 selected>-90 (Default)</option>
        <option>-85</option>
        <option>-80</option>
        <option>-75</option>
        <option>-70</option>
        <option>-65</option>
        <option>-60</option>
        <option>-55</option>
        <option>-50</option>
      </select><br>
      Use version <select id="songTagVer" onchange="checkSong()">
        <option>4</option>
        <option disabled>5</option>
      </select> song tags. <button onclick="selectSong()" id="button" disabled="true">Let me see it!</button>
    </span>
    <span id="title"><b>0</b>%<br>Loading...</span>
    <audio src="" id="audio"></audio>
    <img width="216" height="216" style="position: absolute; top: 8px; right: 8px;" id="songTag" src="https://marblelover003.github.io/VisimusicSongTags/v4/Not playing.PNG">
    <span id="visualizer">
      <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
    </span>
    <span class="progressContainer">
      <progress id="progress" value="0" max="0"></progress><span id="timeLeft">-<span class="min">0</span>:<span class="sec">00</span>.<span class="ms">000</span></span>
    </span>
  </body>
  <script>
    var bar_height, frequency_array,
        styles = {
          alternating: "alternating",
          sequential: "sequential",
          random: "random",
          single: "single"
        },
        pageInitiated = false,
        length, positions,
        maxheight, curvepower,
        progress = document.getElementById("progress"),
        heightlimit = 0,
        songTagVer = document.getElementById("songTagVer");
    function checkSong() {
      var song = document.getElementById("song").value;
      document.getElementById("songTag").width = document.getElementById("songTagVer").value == 4 ? 216 : 240;
      document.getElementById("songTag").height = document.getElementById("songTagVer").value == 4 ? 216 : 135;
      if (song == "") {
        document.getElementById("button").disabled = true;
        document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + document.getElementById("songTagVer").value + "/Not playing.PNG";
      } else {
        document.getElementById("button").disabled = false;
        document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + document.getElementById("songTagVer").value + "/" + (document.getElementById("song").value == "I Call It Progstep" ? "I Call It Progstep 2" : (document.getElementById("song").value == "Deviance" ? "Deviance 3" : document.getElementById("song").value)) + ".PNG";
      }
    }
    function initPage() {
      audio = document.getElementById("audio");
      context = new (window.AudioContext || window.webkitAudioContext)();
      analyser = context.createAnalyser();
      source = context.createMediaElementSource(audio);
      source.connect(analyser);
      analyser.connect(context.destination);
      frequency_array = new Uint8Array(analyser.frequencyBinCount);
      analyser.fftSize = 8192;
      analyser.smoothingTimeConstant = 0;
      analyser.minDecibels = -90;
      analyser.maxDecibels = -10;
      analyser.getByteFrequencyData(frequency_array);
      pageInitiated = true;
      audio.addEventListener("ended", function() {
        if (document.getElementById("song").value == "Partyt Ar Igang") {
          alert("Partyt A\u0308r Iga\u030Ang! has ended. If you wish, feel free to pick another song.");
        } else if (document.getElementById("song").value == "Destroid 1 - Raise Your Fist") {
          alert("Destroid 1 Raise Your Fist has ended. If you wish, feel free to pick another song.");
        } else if (document.getElementById("song").value == "Destroid 8 - Annihilate") {
          alert("Destroid 8 Annihilate has ended. If you wish, feel free to pick another song.");
        } else if (document.getElementById("song").value == "Destroid 10 - Funk Hole") {
          alert("Destroid 10 Funk Hole has ended. If you wish, feel free to pick another song.");
        } else {
          alert(document.getElementById("song").value + " has ended. If you wish, feel free to pick another song.");
        }
        audio.src = "";
        document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + document.getElementById("songTagVer").value + "/Not playing.PNG";
        document.getElementById("song").selectedIndex = 0;
        var x = 0;
        for (var i = 0; i < document.getElementsByTagName("div").length; i++) {
          document.getElementsByTagName("div")[x].style.background = "#000000";
          x++;
        }
        document.getElementById("songSelectMenu").style.visibility = "visible";
        clearInterval(positions);
        document.getElementById("timeLeft").innerHTML = "-0:00.000";
        progress.value = 0;
        progress.max = 0;
        document.title = "Visimusic";
        document.getElementById("title").innerHTML = "<b>0</b>%<br>Loading...";
        document.getElementById("title").style.visibility = "hidden";
        heightlimit = 0;
        checkSong();
      });
    }
    function selectSong() {
      document.getElementById("title").style.visibility = "visible";
      var barwidth, bars = parseInt(document.getElementById("bars").value);
      barwidth = 750 / bars;
      for (var i = 0; i < bars; i++) {
        document.getElementsByTagName("div")[i].style.width = barwidth + "px";
      }
      for (var i = bars; i < document.getElementsByTagName("div").length; i++) {
        document.getElementsByTagName("div")[i].style.width = "0px";
      }
      var song = document.getElementById("song").value;
      audio = document.getElementById("audio");
      var helpers = ["BLAST", "Backlash", "COOKIES", "Eclipse", "Evolution", "Forged in Stars", "Heist", "I\'m being Reelistic", "OKAY", "PIXEL", "ROCK IT", "Rat Twist", "Sentinel", "Sidewinder", "Surge", "The Escape", "This Time", "Turbo Penguin", "It\'s Pronounced Omnitica", "Gravity", "Exoskelephone", "Sexy Beast", "Duality", "Spection", "Pyro", "Timewarp", "Delayed Friend Request", "Starship Showdown", "Destroid 1 - Raise Your Fist", "Farbror Melker Fixar Fiskdamm (Fastbom Cover)", "Steampunk Warlord", "Rocket", "Here It Comes", "Clash", "Chipland", "Crab Rave", "CRAZY", "I Call It Progstep", "Omniverse", "Opia", "Wormhole", "Caps On, Hats Off", "Deviance"];
      var isHelper = false;
      for (var i = 0; i < helpers.length; i++) {
        if (song == helpers[i]) {
          isHelper = true;
          break;
        }
      }
      if (isHelper == true) {
        audio.src = "https://marblelover003.github.io/VisimusicHelpers/" + song + ".mp3";
      } else {
        audio.src = "https://marblelover003.github.io/Visimusic/" + song + ".mp3";
      }
      document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + songTagVer.value + "/" + song + ".PNG";
      if (pageInitiated == false) {
        initPage();
      }
      analyser.fftSize = parseInt(document.getElementById("fftsize").value);
      analyser.smoothingTimeConstant = parseFloat(document.getElementById("smoothing").value);
      analyser.minDecibels = parseInt(document.getElementById("mindb").value);
      analyser.maxDecibels = parseInt(document.getElementById("maxdb").value);
      maxheight = parseFloat(document.getElementById("maxheight").value);
      curvepower = parseInt(document.getElementById("power").value);
      document.getElementById("songSelectMenu").style.visibility = "hidden";
      var colors, style, artist;
      switch (song) {
        case "Astrocat":
        case "Buzz Kill":
        case "Rat Twist":
        case "Sugar Rush":
        case "The Escape":
        case "This Time":
          artist = "PIXL";
          break;
        case "Backlash":
        case "Barracuda":
        case "Crab Rave":
        case "Eclipse":
        case "Heist":
        case "Renegade":
        case "Sentinel":
        case "Surge":
        case "Timewarp":
          artist = "Noisestorm";
          break;
        case "Be Gone Mr. Gawne":
        case "Caps On, Hats Off":
        case "Commando Steve":
        case "Farbror Melker Fixar Fiskdamm (Fastbom Cover)":
        case "Flirt Flirt Oh It Hurts":
        case "Jack Russel":
        case "Milky Ways":
        case "Pirate Manners":
        case "Starship Showdown":
        case "Steampunk Warlord":
        case "The Cave, The Treasure":
        case "The Maze of Mayonnaise":
          artist = "Bossfight";
          break;
        case "Cascade":
          artist = "Kubbi";
          break;
        case "Cheat Codes":
        case "Cheat Codes VIP":
        case "Final Boss":
        case "New Game":
        case "So Far Away":
        case "Time Goes By":
          artist = "Nitro Fun";
          break;
        case "Checkpoint":
          artist = "Nitro Fun & Hyper Potions";
          break;
        case "Chip Zeal":
        case "Houston":
        case "No Party Like a Mojang Party":
        case "Sevcon":
        case "Vindicate Me":
          artist = "Big Giant Circles";
          break;
        case "Chronos":
        case "Corrupted":
        case "Glitch":
        case "Legacy":
        case "Logic Gatekeeper":
        case "Parallel Processing":
        case "Rhapsody":
        case "The Lunar Whale":
          artist = "Danimal Cannon & Zef";
          break;
        case "Core":
        case "Cruise Control":
        case "Livewire":
        case "Tension":
          artist = "Zef";
          break;
        case "Courtesy":
        case "Evolution":
        case "Focus":
        case "Forged in Stars":
        case "Otis":
        case "Spectra":
        case "The Art of War":
        case "Tokyo Skies":
          artist = "Chipzel";
          break;
        case "Crystal Tokyo":
          artist = "FantomenK & meganeko";
          break;
        case "Dance of the Incognizant":
          artist = "FantomenK";
          break;
        case "FOX":
        case "Into The Zone":
        case "On The Run":
        case "Opia":
          artist = "Shirobon";
          break;
        case "FTW":
          artist = "Lets Be Friends";
          break;
        case "Exoskelephone":
        case "Gravity":
        case "Grind":
        case "Quake":
        case "Rocket":
        case "Sexy Beast":
        case "Stock & Pull":
          artist = "Stereotronique";
          break;
        case "BLAST":
        case "COOKIES":
        case "CRAZY":
        case "FIGHT":
        case "HYPE":
        case "OKAY":
        case "PARTY":
        case "PIXEL":
        case "PLAY":
        case "ROCK IT":
        case "SAIKOU":
        case "SPOOKY":
          artist = "Tokyo Machine";
          break;
        case "Long Live The New Fresh":
          artist = "Danimal Cannon";
          break;
        case "MOSHI":
          artist = "Pegboard Nerds & Tokyo Machine";
          break;
        case "Once Again":
        case "Till It\'s Over":
          artist = "Tristam";
          break;
        case "Paper Dolls":
          artist = "Shawn Daley";
          break;
        case "Peer Gynt":
          artist = "cYsmix";
          break;
        case "Chipland":
        case "Rainbow Road":
          artist = "nanobii";
          break;
        case "Razor Sharp":
          artist = "Pegboard Nerds & Tristam";
          break;
        case "Rocktronik":
        case "Try This":
        case "Here It Comes":
          artist = "Pegboard Nerds";
          break;
        case "Delayed Friend Request":
        case "Sidewinder":
          artist = "7 Minutes Dead";
          break;
        case "Termination Shock":
          artist = "Sabrepulse";
          break;
        case "Time Lapse":
          artist = "TheFatRat";
          break;
        case "Turbo Penguin":
          artist = "Sound Remedy & Nitro Fun";
          break;
        case "Unlocked":
          artist = "Plesco";
          break;
        case "Wicked":
          artist = "Avenza";
          break;
        case "Dubwoofer Substep":
        case "I\'m being Reelistic":
        case "It\'s Pronounced Omnitica":
        case "I Call It Progstep":
        case "Omniverse":
        case "Yo! Ho! And a Bottle of Bass!":
          artist = "Omnitica";
          break;
        case "Faster Than Light":
        case "Wormhole":
          artist = "Far Too Loud";
          break;
        case "Halcyon":
          artist = "Au5 & Fractal";
          break;
        case "Duality":
        case "Spection":
          artist = "Fractal";
          break;
        case "Pyro":
          artist = "Dread Pitt";
          break;
        case "Clash":
          artist = "Trip40";
          break;
      }
      if (song == "Cool Friends") {
        document.title = "Now playing Cool Friends (Murtagh & Veschell Remix) by Silva Hound on Visimusic";
      } else if (song == "Partyt Ar Igang") {
        document.title = "Now playing Partyt A\u0308r Iga\u030Ang! by Bossfight on Visimusic";
      } else if (song == "Destroid 1 - Raise Your Fist") {
        document.title = "Now playing Destroid 1 Raise Your Fist by Excision, Downlink & Space Laces on Visimusic";
      } else if (song == "Destroid 8 - Annihilate") {
        document.title = "Now playing Destroid 8 Annihilate by Excision & Far Too Loud on Visimusic";
      } else if (song == "Destroid 10 - Funk Hole") {
        document.title = "Now playing Destroid 10 Funk Hole by Excision & Space Laces on Visimusic";
      } else if (song == "Deviance") {
        document.title = "Now playing Deviance (Dirtyphonics Remix) by Excision & Datsik on Visimusic";
      } else if (song == "Starship Showdown") {
        document.title = "Now playing Starship Showdown (feat. Christian Carlsson) by Bossfight on Visimusic";
      } else if (song == "Highscore") {
        document.title = "Now playing Highscore (feat. Teminite) by Panda Eyes on Visimusic";
      } else {
        document.title = "Now playing " + song + " by " + artist + " on Visimusic";
      }
      var barcolor;
      switch (song) {
        case "Barracuda":
        case "Rat Twist":
        case "Sentinel":
          colors = ["#c7c5c8"];
          style = styles.single;
          barcolor = 1;
          break;
        case "Cascade":
          colors = ["#e5af71", "#d19d64", "#e8bc7d"];
          style = styles.random;
          barcolor = 2;
          break;
        case "Astrocat":
          colors = ["#a61d25"];
          style = styles.single;
          barcolor = 57;
          break;
        case "Cheat Codes":
        case "Checkpoint":
        case "Delayed Friend Request":
        case "Exoskelephone":
        case "Final Boss":
        case "FTW":
        case "Gravity":
        case "Grind":
        case "MOSHI":
        case "New Game":
        case "Once Again":
        case "PLAY":
        case "Rocket":
        case "Rocktronik":
        case "Sexy Beast":
        case "Sidewinder":
        case "Stock & Pull":
        case "Surge":
        case "The Escape":
        case "This Time":
        case "Till It\'s Over":
        case "Timewarp":
        case "Turbo Penguin":
          colors = ["#ffff00"];
          style = styles.single;
          barcolor = 3;
          break;
        case "Cheat Codes VIP":
          colors = ["#bfbfff"];
          style = styles.single;
          barcolor = 4;
          break;
        case "Heist":
          colors = ["#820029"];
          style = styles.single;
          barcolor = 5;
          break;
        case "Chip Zeal":
          colors = ["#ff0000", "#ff0200", "#ff0400", "#ff0600", "#ff0900", "#ff0b00", "#ff0d00", "#ff0f00", "#ff1100", "#ff1300", "#ff1500", "#ff1800", "#ff1a00", "#ff1c00", "#ff1e00", "#ff2000", "#ff2200", "#ff2400", "#ff2700", "#ff2900", "#ff2b00", "#ff2d00", "#ff2f00", "#ff3100", "#ff3300", "#ff3600", "#ff3800", "#ff3a00", "#ff3c00", "#ff3e00", "#ff4000", "#ff4200", "#ff4500", "#ff4700", "#ff4900", "#ff4b00", "#ff4d00", "#ff4f00", "#ff5100", "#ff5400", "#ff5600", "#ff5800", "#ff5a00", "#ff5c00", "#ff5e00", "#ff6000", "#ff6300", "#ff6500", "#ff6700", "#ff6900", "#ff6b00", "#ff6d00", "#ff6f00", "#ff7200", "#ff7400", "#ff7600", "#ff7800", "#ff7a00", "#ff7c00", "#ff7e00", "#ff8100", "#ff8300", "#ff8500", "#ff8700", "#ff8900", "#ff8b00", "#ff8d00", "#ff9000", "#ff9200", "#ff9400", "#ff9600", "#ff9800", "#ff9a00", "#ff9c00", "#ff9f00", "#ffa100", "#ffa300", "#ffa500", "#ffa700", "#ffa900", "#ffab00", "#ffae00", "#ffb000", "#ffb200", "#ffb400", "#ffb600", "#ffb800", "#ffba00", "#ffbd00", "#ffbf00", "#ffc100", "#ffc300", "#ffc500", "#ffc700", "#ffc900", "#ffcc00", "#ffce00", "#ffd000", "#ffd200", "#ffd400", "#ffd600", "#ffd800", "#ffdb00", "#ffdd00", "#ffdf00", "#ffe100", "#ffe300", "#ffe500", "#ffe700", "#ffea00", "#ffec00", "#ffee00", "#fff000", "#fff200", "#fff400", "#fff600", "#fff900", "#fffb00", "#fffd00", "#ffff00"];
          style = styles.sequential;
          barcolor = 6;
          break;
        case "Chronos":
        case "Corrupted":
        case "Glitch":
        case "Legacy":
        case "Logic Gatekeeper":
        case "Parallel Processing":
        case "Rhapsody":
        case "The Lunar Whale":
          colors = ["#113344"];
          style = styles.single;
          barcolor = 7;
          break;
        case "Be Gone Mr. Gawne":
        case "Caps On, Hats Off":
        case "Commando Steve":
        case "Farbror Melker Fixar Fiskdamm (Fastbom Cover)":
        case "Flirt Flirt Oh It Hurts":
        case "Jack Russel":
        case "Milky Ways":
        case "Partyt Ar Igang":
        case "Pirate Manners":
        case "Starship Showdown":
        case "Steampunk Warlord":
        case "The Cave, The Treasure":
        case "The Maze of Mayonnaise":
          colors = ["#ff0000", "#ffffff"];
          style = styles.alternating;
          barcolor = 8;
          break;
        case "Cool Friends":
          colors = ["#4643d2", "#c38ef8"];
          style = styles.alternating;
          barcolor = 9;
          break;
        case "Core":
        case "Cruise Control":
        case "Livewire":
        case "Tension":
          colors = ["#ff8000"];
          style = styles.single;
          barcolor = 10;
          break;
        case "Courtesy":
        case "Focus":
        case "Otis":
          colors = ["#0432ea"];
          style = styles.single;
          barcolor = 11;
          break;
        case "Buzz Kill":
          colors = ["#555555", "#ffff00"];
          style = styles.alternating;
          barcolor = 12;
          break;
        case "Crystal Tokyo":
          colors = ["#0000ff", "#ffffff"];
          style = styles.alternating;
          barcolor = 13;
          break;
        case "Dance of the Incognizant":
          colors = ["#cf0200", "#190c0b", "#a00000", "#871514", "#9f3134"];
          style = styles.random;
          barcolor = 14;
          break;
        case "Destroid 1 - Raise Your Fist":
        case "Destroid 8 - Annihilate":
        case "Destroid 10 - Funk Hole":
        case "Deviance":
          colors = ["#ff0000"];
          style = styles.single;
          barcolor = 15;
          break;
        case "FOX":
        case "On The Run":
          colors = ["#008fdd", "#fc00eb", "#6624f8"];
          style = styles.random;
          barcolor = 17;
          break;
        case "Houston":
          colors = ["#99ff00"];
          style = styles.single;
          barcolor = 18;
          break;
        case "HYPE":
          colors = ["#58f639", "#bae967", "#89e952", "#38fa03", "#8ee050"];
          style = styles.random;
          barcolor = 19;
          break;
        case "Into The Zone":
          colors = ["#c00039", "#fe0b41", "#4300bd", "#462784"];
          style = styles.random;
          barcolor = 20;
          break;
        case "Long Live The New Fresh":
          colors = ["#801b55", "#483872"];
          style = styles.alternating;
          barcolor = 21;
          break;
        case "Paper Dolls":
          colors = ["#ffffff"];
          style = styles.single;
          barcolor = 23;
          break;
        case "Peer Gynt":
          colors = ["#78a050", "#f5a915"];
          style = styles.alternating;
          barcolor = 24;
          break;
        case "Evolution":
        case "Forged in Stars":
        case "Rainbow Road":
        case "Spectra":
        case "The Art of War":
        case "Tokyo Skies":
          colors = ["#ff0000", "#ff2000", "#ff4000", "#ff6000", "#ff8000", "#ff9f00", "#ffbf00", "#ffdf00", "#ffff00", "#dfff00", "#bfff00", "#9fff00", "#80ff00", "#60ff00", "#40ff00", "#20ff00", "#00ff00", "#00ff20", "#00ff40", "#00ff60", "#00ff80", "#00ff9f", "#00ffbf", "#00ffdf", "#00ffff", "#00dfff", "#00bfff", "#009fff", "#0080ff", "#0060ff", "#0040ff", "#0020ff", "#0000ff", "#2000ff", "#4000ff", "#6000ff", "#8000ff", "#9f00ff", "#bf00ff", "#df00ff", "#ff00ff", "#ff00df", "#ff00bf", "#ff009f", "#ff0080", "#ff0060", "#ff0040", "#ff0020"];
          style = styles.sequential;
          barcolor = 25;
          break;
        case "Dubwoofer Substep":
        case "No Party Like a Mojang Party":
        case "Sevcon":
        case "Wicked":
          colors = ["#ff0000"];
          style = styles.single;
          barcolor = 27;
          break;
        case "So Far Away":
          colors = ["#ff9900", "#ffaa00"];
          style = styles.alternating;
          barcolor = 28;
          break;
        case "Sugar Rush":
          colors = ["#39d7f0"];
          style = styles.single;
          barcolor = 29;
          break;
        case "Termination Shock":
          colors = ["#0000ff", "#0010ff", "#0020ff", "#0030ff", "#0040ff", "#0050ff", "#0060ff", "#0070ff", "#0080ff", "#008fff", "#009fff", "#00afff", "#00bfff", "#00cfff", "#00dfff", "#00efff", "#00ffff", "#00efff", "#00dfff", "#00cfff", "#00bfff", "#00afff", "#009fff", "#008fff", "#0080ff", "#0070ff", "#0060ff", "#0050ff", "#0040ff", "#0030ff", "#0020ff", "#0010ff"];
          style = styles.sequential;
          barcolor = 30;
          break;
        case "Try This":
        case "Halcyon":
        case "Spection":
        case "Duality":
          colors = ["#db0a89"];
          style = styles.single;
          barcolor = 31;
          break;
        case "Unlocked":
          colors = ["#bf0070"];
          style = styles.single;
          barcolor = 32;
          break;
        case "Vindicate Me":
          colors = ["#00ff80"];
          style = styles.single;
          barcolor = 33;
          break;
        case "It\'s Pronounced Omnitica":
        case "I Call It Progstep":
        case "Yo! Ho! And a Bottle of Bass!":
          colors = ["#7070ff", "#8080ff", "#8f8fff"];
          style = styles.random;
          barcolor = 34;
          break;
        case "Quake":
          colors = ["#e08b04"];
          style = styles.single;
          barcolor = 35;
          break;
        case "Faster Than Light":
          colors = ["#ffffee"];
          style = styles.single;
          barcolor = 36;
          break;
        case "FIGHT":
          colors = ["#ffd700"];
          style = styles.single;
          barcolor = 37;
          break;
        case "SAIKOU":
          colors = ["#ff0040"];
          style = styles.single;
          barcolor = 38;
          break;
        case "Highscore":
          colors = ["#00ffff"];
          style = styles.single;
          barcolor = 39;
          break;
        case "PARTY":
          colors = ["#ff0000", "#ffff00", "#00df00", "#00ffff", "#0000ff", "#ff00ff", "#ff0080"];
          style = styles.random;
          barcolor = 40;
          break;
        case "Razor Sharp":
          colors = ["#c0c0c0"];
          style = styles.single;
          barcolor = 41;
          break;
        case "Backlash":
        case "Renegade":
          colors = ["#b14147", "#c38dea"];
          style = styles.alternating;
          barcolor = 42;
          break;
        case "SPOOKY":
          colors = ["#00008b"];
          style = styles.single;
          barcolor = 43;
          break;
        case "Time Goes By":
          colors = ["#eeeeee"];
          style = styles.single;
          barcolor = 44;
          break;
        case "Time Lapse":
        case "Crab Rave":
          colors = ["#c2b280"];
          style = styles.single;
          barcolor = 45;
          break;
        case "Eclipse":
          colors = ["#666666", "#ffffff"];
          style = styles.alternating;
          barcolor = 46;
          break;
        case "BLAST":
          colors = ["#fee4e0"];
          style = styles.single;
          barcolor = 47;
          break;
        case "COOKIES":
          colors = ["#634020"];
          style = styles.single;
          barcolor = 48;
          break;
        case "I\'m being Reelistic":
        case "Omniverse":
          colors = ["#f3f3f3"];
          style = styles.single;
          barcolor = 16;
          break;
        case "OKAY":
          colors = ["#be0ffe"];
          style = styles.single;
          barcolor = 22;
          break;
        case "PIXEL":
          colors = ["#1b2664"];
          style = styles.single;
          barcolor = 26;
          break;
        case "ROCK IT":
          colors = ["#0344a8"];
          style = styles.single;
          barcolor = 49;
          break;
        case "Pyro":
          colors = ["#ff0000", "#ff2000", "#ff4000", "#ff6000", "#ff8000", "#ff9f00", "#ffbf00", "#ffdf00", "#ffff00"];
          style = styles.random;
          barcolor = 50;
          break;
        case "Here It Comes":
          colors = ["#0000ff"];
          style = styles.single;
          barcolor = 51;
          break;
        case "Clash":
          colors = ["#ff0080"];
          style = styles.single;
          barcolor = 52;
          break;
        case "Chipland":
          colors = ["#5d51ba"];
          style = styles.single;
          barcolor = 53;
          break;
        case "CRAZY":
          colors = ["#f7629a"];
          style = styles.single;
          barcolor = 54;
          break;
        case "Opia":
          colors = ["#aaf1ad"];
          style = styles.single;
          barcolor = 55;
          break;
        case "Wormhole":
          colors = ["#e9e8e6"];
          style = styles.single;
          barcolor = 56;
          break;
      }
      switch (song) {
        case "Backlash": length = "5:22.115"; break;
        case "BLAST": length = "4:20.937"; break;
        case "COOKIES": length = "3:09.361"; break;
        case "Eclipse": length = "5:37.606"; break;
        case "Evolution": length = "5:37.893"; break;
        case "Forged in Stars": length = "3:16.257"; break;
        case "Gravity": length = "5:54.115"; break;
        case "Heist": length = "3:02.204"; break;
        case "I\'m being Reelistic": length = "3:50.687"; break;
        case "OKAY": length = "3:07.141"; break;
        case "PIXEL": length = "3:18.373"; break;
        case "Rat Twist": length = "4:00.117"; break;
        case "ROCK IT": length = "3:11.242"; break;
        case "Sentinel": length = "5:28.437"; break;
        case "Sidewinder": length = "6:46.491"; break;
        case "Surge": length = "3:56.930"; break;
        case "The Escape": length = "5:03.673"; break;
        case "This Time": length = "4:32.378"; break;
        case "Turbo Penguin": length = "3:31.356"; break;
        case "Astrocat": length = "5:21.619"; break;
        case "Barracuda": length = "4:22.661"; break;
        case "Be Gone Mr. Gawne": length = "4:17.906"; break;
        case "Buzz Kill": length = "5:55.813"; break;
        case "Caps On, Hats Off": length = "2:36.760"; break;
        case "Cascade": length = "4:20.048"; break;
        case "Cheat Codes": length = "3:32.349"; break;
        case "Cheat Codes VIP": length = "3:24.486"; break;
        case "Checkpoint": length = "3:43.895"; break;
        case "Chip Zeal": length = "3:29.920"; break;
        case "Chronos": length = "4:29.740"; break;
        case "Clash": length = "3:40.447"; break;
        case "Commando Steve": length = "3:26.942"; break;
        case "Cool Friends": length = "3:59.072"; break;
        case "Core": length = "4:33.371"; break;
        case "Corrupted": length = "6:16.737"; break;
        case "Courtesy": length = "3:11.164"; break;
        case "Cruise Control": length = "4:01.606"; break;
        case "Crystal Tokyo": length = "5:28.124"; break;
        case "Dance of the Incognizant": length = "7:10.158"; break;
        case "Delayed Friend Request": length = "6:05.897"; break;
        case "Destroid 1 - Raise Your Fist": length = "4:42.775"; break;
        case "Destroid 8 - Annihilate": length = "5:10.177"; break;
        case "Destroid 10 - Funk Hole": length = "4:40.084"; break;
        case "Deviance": length = "5:04.091"; break;
        case "Duality": length = "5:58.870"; break;
        case "Dubwoofer Substep": length = "4:44.865"; break;
        case "Exoskelephone": length = "5:53.123"; break;
        case "Farbror Melker Fixar Fiskdamm (Fastbom Cover)": length = "3:23.389"; break;
        case "Faster Than Light": length = "5:02.785"; break;
        case "FIGHT": length = "3:35.719"; break;
        case "Final Boss": length = "5:16.813"; break;
        case "Flirt Flirt Oh It Hurts": length = "3:31.513"; break;
        case "Focus": length = "2:42.847"; break;
        case "FOX": length = "5:17.178"; break;
        case "FTW": length = "4:17.671"; break;
        case "Glitch": length = "5:47.480"; break;
        case "Grind": length = "5:15.376"; break;
        case "Halcyon": length = "6:10.834"; break;
        case "Here It Comes": length = "3:32.088"; break;
        case "Highscore": length = "4:20.832"; break;
        case "Houston": length = "5:23.500"; break;
        case "HYPE": length = "3:02.909"; break;
        case "Into The Zone": length = "2:41.462"; break;
        case "It\'s Pronounced Omnitica": length = "5:00.225"; break;
        case "Jack Russel": length = "3:21.691"; break;
        case "Legacy": length = "5:17.074"; break;
        case "Livewire": length = "5:42.413"; break;
        case "Logic Gatekeeper": length = "4:58.736"; break;
        case "Long Live The New Fresh": length = "4:27.049"; break;
        case "Milky Ways": length = "3:07.611"; break;
        case "MOSHI": length = "3:35.170"; break;
        case "New Game": length = "4:19.317"; break;
        case "No Party Like a Mojang Party": length = "5:51.529"; break;
        case "On The Run": length = "4:28.564"; break;
        case "Once Again": length = "3:46.351"; break;
        case "Otis": length = "2:36.081"; break;
        case "Paper Dolls": length = "2:55.777"; break;
        case "Parallel Processing": length = "8:29.022"; break;
        case "PARTY": length = "3:39.480"; break;
        case "Partyt Ar Igang": length = "2:57.136"; break;
        case "Peer Gynt": length = "2:21.557"; break;
        case "Pirate Manners": length = "3:02.151"; break;
        case "PLAY": length = "3:04.111"; break;
        case "Pyro": length = "3:36.058"; break;
        case "Quake": length = "5:41.498"; break;
        case "Rainbow Road": length = "2:53.061"; break;
        case "Razor Sharp": length = "4:41.808"; break;
        case "Renegade": length = "6:10.546"; break;
        case "Rhapsody": length = "6:13.054"; break;
        case "Rocket": length = "6:26.795"; break;
        case "Rocktronik": length = "5:08.166"; break;
        case "SAIKOU": length = "2:55.412"; break;
        case "Sevcon": length = "4:34.755"; break;
        case "Sexy Beast": length = "5:15.350"; break;
        case "So Far Away": length = "3:39.297"; break;
        case "Spection": length = "4:52.362"; break;
        case "Spectra": length = "4:00.117"; break;
        case "SPOOKY": length = "3:49.799"; break;
        case "Starship Showdown": length = "4:08.293"; break;
        case "Steampunk Warlord": length = "3:34.099"; break;
        case "Stock & Pull": length = "5:51.007"; break;
        case "Sugar Rush": length = "4:44.865"; break;
        case "Tension": length = "4:58.109"; break;
        case "Termination Shock": length = "4:50.272"; break;
        case "The Art of War": length = "3:13.280"; break;
        case "The Cave, The Treasure": length = "3:27.307"; break;
        case "The Lunar Whale": length = "4:35.826"; break;
        case "The Maze of Mayonnaise": length = "3:11.190"; break;
        case "Till It\'s Over": length = "4:30.863"; break;
        case "Time Goes By": length = "3:26.315"; break;
        case "Time Lapse": length = "3:05.391"; break;
        case "Timewarp": length = "5:02.419"; break;
        case "Tokyo Skies": length = "3:52.463"; break;
        case "Try This": length = "3:49.694"; break;
        case "Unlocked": length = "3:47.683"; break;
        case "Vindicate Me": length = "3:26.471"; break;
        case "Wicked": length = "3:41.126"; break;
        case "Yo! Ho! And a Bottle of Bass!": length = "6:24.130"; break;
        case "Chipland": length = "3:10.458"; break;
        case "Crab Rave": length = "2:41.776"; break;
        case "CRAZY": length = "3:16.963"; break;
        case "I Call It Progstep": length = "3:55.624"; break;
        case "Omniverse": length = "3:28.718"; break;
        case "Opia": length = "3:09.335"; break;
        case "Wormhole": length = "3:40.395"; break;
      }
      for (var i = 1; i <= 100; i++) {
        progress.classList.remove("c" + i);
      }
      progress.classList.add("c" + barcolor);
      var l_m = parseInt(length[0]);
      var l_s = parseInt(length[2] + length[3]);
      var l_ms = parseInt(length[5] + length[6] + length[7]);
      l_m *= 60;
      l_ms /= 1000;
      progress.max = (l_m + l_s + l_ms) * 1000;
      var y = 0;
      for (var i = 0; i < document.getElementsByTagName("div").length; i++) {
        switch (style) {
          case "alternating":
          case "sequential":
            document.getElementsByTagName("div")[y].style.background = colors[y % colors.length];
            break;
          case "random":
            document.getElementsByTagName("div")[y].style.background = colors[Math.floor(Math.random() * colors.length)];
            break;
          case "single":
            document.getElementsByTagName("div")[y].style.background = colors[0];
            break;
        }
        y++;
      }
      audio.load();
      var x = setInterval(function() {
        var min = parseInt(length[0]);
        var sec = parseInt(length[2] + length[3]);
        min *= 60;
        var total = min + sec;
        var bufferProgress = Math.floor(audio.buffered.end(0) / total * 1000) / 10;
        document.getElementById("title").innerHTML = "<b>" + bufferProgress + "</b>%<br>Loading...";
      }, 0);
      animationLooper();
      audio.oncanplaythrough = function() {
        clearInterval(x);
        audio.play();
        positions = setInterval(function() {
          var curpos = Math.floor(audio.currentTime);
          var m = Math.floor(curpos / 60);
          var s = Math.floor(curpos % 60);
          var ms = Math.floor(audio.currentTime * 1000) % 1000;
          var l_m = parseInt(length[0]);
          var l_s = parseInt(length[2] + length[3]);
          var l_ms = parseInt(length[5] + length[6] + length[7]);
          var pos = audio.currentTime * 1000;
          var len = ((l_m * 60) + l_s + (l_ms / 1000)) * 1000;
          var timeLeft = (len - pos);
          var t_m = Math.floor(timeLeft / 60000);
          var t_s = Math.floor(timeLeft % 60000 / 1000);
          var t_ms= Math.floor(timeLeft % 1000);
          var pos_clock = m + ":" + ("0" + s).slice(-2) + "." + ("00" + ms).slice(-3);
          var len_clock = l_m + ":" + ("0" + l_s).slice(-2) + "." + ("00" + l_ms).slice(-3);
          document.getElementById("timeLeft").innerHTML = "-" + t_m + ":" + ("0" + t_s).slice(-2) + "." + ("00" + t_ms).slice(-3);
          progress.value = audio.currentTime * 1000;
          if (song == "Faster Than Light" && audio.currentTime >= 186.5) {
            document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + songTagVer.value + "/Faster Than Light 2.PNG";
          }
          if (song == "Destroid 1 - Raise Your Fist" && audio.currentTime >= 183) {
            document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + songTagVer.value + "/Destroid 1 - Raise Your Fist 2.PNG";
          }
          if (song == "It\'s Pronounced Omnitica" && audio.currentTime >= 209) {
            document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + songTagVer.value + "/It\'s Pronounced Omnitica 2.PNG";
          }
          if (song == "Wormhole" && audio.currentTime >= 155.5) {
            document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + songTagVer.value + "/Wormhole 2.PNG";
          }
          if (song == "Caps On, Hats Off" && audio.currentTime >= 115.5) {
            document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + songTagVer.value + "/Caps On, Hats Off 2.PNG";
          }
          if (song == "I Call It Progstep") {
            if (audio.currentTime >= 24 && audio.currentTime < 175.5) {
              document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + songTagVer.value + "/I Call It Progstep 2.PNG";
            } else if (audio.currentTime >= 175.5) {
              document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + songTagVer.value + "/I Call It Progstep 3.PNG";
            }
          }
          if (song == "Deviance") {
            if (audio.currentTime >= 52 && audio.currentTime < 154) {
              document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + songTagVer.value + "/Deviance 2.PNG";
            } else if (audio.currentTime >= 154 && audio.currentTime < 253.5) {
              document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + songTagVer.value + "/Deviance 3.PNG";
            } else if (audio.currentTime >= 253.5) {
              document.getElementById("songTag").src = "https://marblelover003.github.io/VisimusicSongTags/v" + songTagVer.value + "/Deviance 4.PNG";
            }
          }
          var docTitle = document.title;
          document.getElementById("title").innerHTML = "<b>" + pos_clock + "</b> / " + len_clock + "<br>" + docTitle.slice(0, docTitle.length - 13);
        }, 0);
      }
    }
    function animationLooper(){
      analyser.getByteFrequencyData(frequency_array);
      for(var i = 0; i < parseInt(document.getElementById("bars").value); i++){
        bar_height = Math.pow(frequency_array[i] / 255 * Math.pow(window.innerHeight - 24, 1/curvepower), curvepower) * maxheight;
        setH(i, bar_height);
      }
      window.requestAnimationFrame(animationLooper);
    }
    function setH(barID, height) {document.getElementsByTagName("div")[barID].style.height = (height + 3) + "px";}
  </script>
</html>
